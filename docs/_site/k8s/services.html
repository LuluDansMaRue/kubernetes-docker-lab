<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Services üîë - kubernetes-docker-lab</title>
<meta name="description" content="Learning how to deploy a web app from Docker to Kubernetes to GCloud">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="kubernetes-docker-lab">
<meta property="og:title" content="Services üîë">
<meta property="og:url" content="http://localhost:4000/k8s/services.html">













<link rel="canonical" href="http://localhost:4000/k8s/services.html">













<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="kubernetes-docker-lab Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">kubernetes-docker-lab</a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Docker</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docker/intro" class="">Introduction to docker</a></li>
          
            
            

            
            

            <li><a href="/docker/example" class="">Example of deployment with Docker</a></li>
          
            
            

            
            

            <li><a href="/k8s/swarm" class="">Docker swarm</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Kubernetes knowledges</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/k8s/architecture" class="">Architecture</a></li>
          
            
            

            
            

            <li><a href="/k8s/deployment" class="">Deployment</a></li>
          
            
            

            
            

            <li><a href="/k8s/services" class="">Service</a></li>
          
            
            

            
            

            <li><a href="/k8s/storage" class="">Volumes</a></li>
          
            
            

            
            

            <li><a href="/k8s/cron" class="">Cron task</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Deploying an app to minikube</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/k8s/minikube" class="">Minikube</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Services üîë">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Services üîë
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>A service is a microservice which is grouping numbers of pods by pods‚Äôs label. Services allow you to define the access policy to your pods</p>

<p>Services are cheaps which mean that you can have as many services as you want in your Cluster.</p>

<h2 id="usefulness-of-service-Ô∏è">Usefulness of Service üóÇÔ∏è</h2>

<p>As per CoreOS definition of Service:</p>

<blockquote>
  <p>Services provide important features that are standardized across the cluster: load-balancing, service discovery between applications, and features to support zero-downtime application deployments.</p>
</blockquote>

<p>Futhermore pod are ephemeral. Which mean that it‚Äôs not reliable to use the pod‚Äôs IP in order to connect your stack between them. Service are micro services that support zero-downtime deployments as they have an unlimited lifespans.</p>

<h2 id="type-of-services-Ô∏è">Type of services üóÉÔ∏è</h2>

<p>Kubernetes provide many types of services. In this section we‚Äôll explore all of them.</p>

<h3 id="clusterip">ClusterIP</h3>

<p>Expose the service on a Cluster internal IP. This mean that by choosing this kind of service will make your pods reachable within the Cluster</p>

<h3 id="nodeport">NodePort</h3>

<p>This expose the service on each Node‚Äôs IP static port. A ClusterIP will be create automatically to which the NodePort service will be created.</p>

<p>E.g: 3 Nodes -&gt; 3 NodeIP created binded to the Cluster.</p>

<h3 id="loadbalancer">LoadBalancer</h3>

<p>This type offer the same functionality as the NodePort. It add an other layer where your services are exposed to an external Load Balancer provider. This mean that the external load balancer will be in charge of handling the traffic to your services</p>

<h3 id="externalname">ExternalName</h3>

<p>As per Kubernetes‚Äôs documentation:</p>

<blockquote>
  <p>Maps the service to the contents of the externalName field (e.g. foo.bar.example.com), by returning a CNAME record with its value. No proxying of any kind is set up. This requires version 1.7 or higher of kube-dns.</p>
</blockquote>

<h2 id="relationship-with-kube-proxy-">Relationship with Kube-proxy üôå</h2>

<p>Each Kubernete‚Äôs Node is running a Kube-proxy (see the architecture page). Each of these kube-proxy is responsible for implementing a form of Virtual IP for the <code class="highlighter-rouge">Services</code> of all type aside from the <code class="highlighter-rouge">ExternalName</code>.</p>

<p>As this part can be really tricky to explained I‚Äôll suggest you to read this article which the author Mark Betz, did a tremendous work regarding this subject <a href="https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82">Networking services, Kube-proxy</a></p>

<h2 id="resources">Resources</h2>

<p><a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-networking-terminology-interfaces-and-protocols">Basic of networking</a></p>

<p><a href="https://www.digitalocean.com/community/tutorials/understanding-ip-addresses-subnets-and-cidr-notation-for-networking">IP Addresses</a></p>

<p><a href="https://medium.com/google-cloud/understanding-kubernetes-networking-pods-7117dd28727">Netorking introduction in Kubernetes</a></p>

<p><a href="https://www.youtube.com/watch?v=g8eP4fhrx3I">Learning routing tables</a></p>

<p><a href="https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82">Kube Proxy, Services networking</a></p>

<p><a href="https://medium.com/google-cloud/kubernetes-nodeport-vs-loadbalancer-vs-ingress-when-should-i-use-what-922f010849e0">Which service should I choose</a></p>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 kubernetes-docker-lab. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
